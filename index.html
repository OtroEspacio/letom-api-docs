<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Letom API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate' target="_blank">Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>You can use our API to access Letom API endpoints, which can get information on various motels, room types, make reservations and more.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://api-letom.herokuapp.com/v1"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
  -H <span class="s2">"Accept: application/vnd.letom.v1"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">meowmeowmeow</code> with your API key.</p>
</blockquote>

<p>Letom uses API keys to allow access to the API.</p>

<p>Letom expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: meowmeowmeow</code></p>

<aside class="notice">
You must replace <code>meowmeowmeow</code> with your API key.
</aside>

<h2 id="base-url">Base URL</h2>

<p>This is the main fragment all requests URLs are based from.</p>

<blockquote>
<p>The base URL for API version 1 is</p>
</blockquote>
<pre class="highlight plaintext"><code>https://api-letom.herokuapp.com/v1
</code></pre>

          <h1 id="errors">Errors</h1>

<p>The Letom API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

          <h1 id="motels">Motels</h1>

<h2 id="get-all-motels">Get All Motels</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-letom.herokuapp.com/v1/consumer/motels"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
  -H <span class="s2">"Accept: application/vnd.letom.v1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"motels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V치squez e Hijos"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Arrabal Berta Gallegos, 14 Esc. 592"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terrill_zulauf@hamillthiel.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68-217-1923"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"profile_pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/expeditaquivoluptates.png?size=300x300&amp;set=set1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cover_pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/autetmolestiae.png?size=300x300&amp;set=set1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pulido, Rivas y Llamas Asociados"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Caserio Horacio Camarillo, 2 Esc. 195"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hollie.purdy@reinger.info"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28-009-4243"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"profile_pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/placeataniminemo.png?size=300x300&amp;set=set1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cover_pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/inciduntbeataeimpedit.png?size=300x300&amp;set=set1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all available letoms.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api-letom.herokuapp.com/v1/consumer/motels</code></p>

<h2 id="get-a-specific-letom">Get a Specific Letom</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-letom.herokuapp.com/v1/consumer/motels/1"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
  -H <span class="s2">"Accept: application/vnd.letom.v1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"motel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V치squez e Hijos"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Arrabal Berta Gallegos, 14 Esc. 592"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"terrill_zulauf@hamillthiel.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68-217-1923"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cover_pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/autetmolestiae.png?size=300x300&amp;set=set1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"room_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chimeras"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1336"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Church-key heirloom retro dreamcatcher. Mlkshk offal mumblecore direct trade street neutra hella. Venmo gastropub asymmetrical jean shorts flexitarian sustainable twee. Austin meh meditation tacos."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/autemrecusandaedoloribus.png?size=300x300&amp;set=set1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"conspirators"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4635"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cronut chicharrones food truck vinyl skateboard intelligentsia you probably haven't heard of them. Selvage stumptown letterpress next level intelligentsia pitchfork authentic. Chartreuse irony godard. Pickled health cornhole ennui park drinking twee gastropub. Bicycle rights roof chartreuse."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"cover"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/optiodoloreipsa.png?size=300x300&amp;set=set1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific letom and its <code class="prettyprint">RoomTypes</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api-letom.herokuapp.com/v1/consumer/motels/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the letom to retrieve</td>
</tr>
</tbody></table>

          <h1 id="room-types">Room Types</h1>

<h2 id="get-a-specific-room-type">Get a Specific Room Type</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-letom.herokuapp.com/v1/consumer/room_types/1"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
  -H <span class="s2">"Accept: application/vnd.letom.v1"</span>
</code></pre>

<blockquote>
<p>The above request returns a JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"room_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fishes"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5556"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Swag cred pabst yuccie literally 8-bit kombucha. Umami health whatever jean shorts keffiyeh chicharrones. Scenester vegan normcore disrupt small batch tofu sustainable. Humblebrag pop-up franzen."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"available_rooms"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nt">"room_type_pictures"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/asperiorespariaturmagni.png?size=300x300&amp;set=set1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://robohash.org/autdignissimosnihil.png?size=300x300&amp;set=set1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get the information of a room type and all its pictures.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET &quot;https://api-letom.herokuapp.com/v1/consumer/room_types/&lt;ID&gt;&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the room type to retrieve</td>
</tr>
</tbody></table>

          <h1 id="reservations">Reservations</h1>

<h2 id="get-a-consumer-39-s-reservations">Get a Consumer&rsquo;s Reservations</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-letom.herokuapp.com/v1/consumer/reservations/?email=someemail@address.com"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
  -H <span class="s2">"Accept: application/vnd.letom.v1"</span>
</code></pre>

<blockquote>
<p>The above request returns a JSON structured in following manner:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"reservations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_requested"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12 de 09"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"motel_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V치squez e Hijos"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"giants"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cold-pressed narwhal post-ironic mixtape asymmetrical thundercats put a bird on it. Intelligentsia gluten-free put a bird on it. Ethical gluten-free fingerstache bitters diy. Microdosing messenger bag chicharrones skateboard post-ironic pitchfork."</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_requested"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02 de 10"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"motel_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V치squez e Hijos"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"worshipers"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Offal swag vice put a bird on it bespoke. 3 wolf moon paleo squid bitters direct trade intelligentsia flannel vegan. Gluten-free sartorial tattooed blog. Trust fund try-hard swag aesthetic humblebrag blog brooklyn yolo."</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a consumer&rsquo;s all reservations made in Letom. The reservation includes the room type reserved.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET &quot;https://api-letom.herokuapp.com/v1/consumer/reservations/?email=&lt;CONSUMER-EMAIL-ADDRESS&gt;&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address of the current consumer</td>
</tr>
</tbody></table>

<h2 id="create-a-reservation">Create a Reservation</h2>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://api-letom.herokuapp.com/v1/consumer/reservations"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
  -H <span class="s2">"Accept: application/vnd.letom.v1"</span>
  -d <span class="s1">'{ "reservation": {
        "room_type_id": 5,
        "email": "c2@email.com" }
      }'</span>
</code></pre>

<blockquote>
<p>The previous POST request creates a reservations and returns a JSON like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"reservation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c2@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"worshipers"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reserva completada"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a reservation for the current user. The resulting JSON gives information about the reservation&rsquo;s status, additional data of the consumer and the room type and a custom success message.</p>

<aside class="notice">Users can only make reservations as long as they do not have any reservations with a pending status.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api-letom.herokuapp.com/v1/consumer/reservations/</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reservation (<em>hash</em>)</td>
<td>A hash containing the <code class="prettyprint">room_type_id</code> and the <code class="prettyprint">email</code> for creating the reservation</td>
</tr>
<tr>
<td>room_type_id (<em>integer</em>)</td>
<td>The ID of the room type to be reserved</td>
</tr>
<tr>
<td>email (<em>string</em>)</td>
<td>The current user&rsquo;s email address</td>
</tr>
</tbody></table>

<h2 id="get-last-user-39-s-reservation">Get Last User&rsquo;s Reservation</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-letom.herokuapp.com/v1/consumer/reservations/last/?email=someemail@address.com"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
  -H <span class="s2">"Accept: application/vnd.letom.v1"</span>
</code></pre>

<blockquote>
<p>The previoous request returns a JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"reservation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c2@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"worshipers"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get the current user&rsquo;s last reservation. The reservation includes the room type reserved and the user&rsquo;s data.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET &quot;https://api-letom.herokuapp.com/v1/consumer/reservations/last/?email=&lt;CONSUMER-EMAIL-ADDRESS&gt;&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email (<em>string</em>)</td>
<td>The email address of the current consumer</td>
</tr>
</tbody></table>

<h2 id="cancel-a-reservation">Cancel a Reservation</h2>
<pre class="highlight shell"><code>curl -X PUT <span class="s2">"https://api-letom.herokuapp.com/v1/consumer/reservations/?email=someemail@address.com"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
  -H <span class="s2">"Accept: application/vnd.letom.v1"</span>
</code></pre>

<blockquote>
<p>The above request returns a JSON structured in following manner:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"reservation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c2@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"room"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"worshipers"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint finds and cancels the most recent pending reservation a user has made.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT &quot;https://api-letom.herokuapp.com/v1/consumer/reservations/cancel/?email=&lt;CONSUMER-EMAIL-ADDRESS&gt;&quot;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email (<em>string</em>)</td>
<td>The email address of the current consumer</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
